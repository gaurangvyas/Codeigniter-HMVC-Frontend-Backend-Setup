<?phpclass Admin extends MY_Controller{    protected $data = array();    public function __construct()    {        parent::__construct();        $this->load->helper(array('language'));        $this->load->model(array('admin/admin_model'));        $this->lang->load('auth');    }    public function index()    {        if (!$this->session->userdata('userSession')) {            $login['configs'] = $this->admin_model->getConfigs();            $this->form_validation->set_rules('username', 'E-mail', 'required');            $this->form_validation->set_rules('password', 'Password', 'required');            if ($this->form_validation->run() == true) {               //print_r($_POST);exit;                $remember = (bool)$this->input->post('remember');                $login = $this->admin_model->login($this->input->post('username'), $this->input->post('password'), $remember);                if ($login) {                   // $this->session->set_flashdata('success', 'Login Sucessfully.');                    redirect('admin', 'refresh');                } else {                    $this->session->set_flashdata('danger', 'Invalid username or password.');                    redirect('admin', 'refresh');                }            } else {              $login['message'] = (validation_errors()) ? validation_errors() : $this->session->flashdata('message');              $login['title'] = "Login";              $this->load->view('backend/admin_login',$login);           }       }else {            $this->data['configs'] = $this->admin_model->getConfigs();            $this->data['email'] = $this->getSession('email');            $this->data['title'] = "Dashboard";            $this->render('dashboard/dashboard', $this->data);        }    }    public function logout()    {        session_destroy();        redirect('admin');    }}